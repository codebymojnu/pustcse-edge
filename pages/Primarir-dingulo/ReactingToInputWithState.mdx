# স্টেট পরিবর্তনে UI প্রতিক্রিয়া

React, UI কে ঠিকভাবে ম্যানেজ করার জন্য Declarative Way টেকনিকে কাজ করে। ডমের প্রত্যেকটি উপাদানকে ধরে ধরে পরিবর্তন করার পরিবর্তে, আপনি একটি কম্পোনেন্ট এর যতরকম অবস্থা হতে পারে, তার বিভিন্ন স্টেটকে বর্ণনা করবেন শুধু। যেমন "শুরু", "টাইপিং", "সাবমিট করা হয়েছে"। প্রতিটি অবস্থার জন্য আপনি কীভাবে ইউআই দেখতে চান তা বর্ণনা করেন। কিভাবে UI পরিবর্তন করতে হবে তা React নিজেই ঠিক করবে। যেমন বলবেন, এই অবস্থা থাকলে `text field` দেখাও। ডিজাইনাররা সাধারণ বিভিন্ন অবস্থার কথা ভেবে UI ডিজাইন করে, এটাও ঠিক সেইরকম।

## আপনি যা শিখবেন:

- **Declarative UI প্রোগ্রামিং কিভাবে Imperative UI থেকে আলাদা**
- **আপনার কম্পোনেন্টগুলি কী কী বিভিন্ন ভিজুয়াল অবস্থায় থাকতে পারে তা চিহ্নিত করা** আপনি শিখবেন কীভাবে ইউআই-এর সম্ভাব্য অবস্থাগুলো চিহ্নিত করবেন (যেমন, প্রাথমিক অবস্থা, লেখার সময়ের অবস্থা, সফলতার অবস্থা)।
- **কোড থেকে বিভিন্ন ভিজুয়াল অবস্থার মধ্যে পরিবর্তন ট্রিগার (অল্প সময়ে ঘটে) করা:** আপনি শিখবেন কীভাবে আপনার কোডের মধ্যে পরিবর্তন এনে একটি অবস্থা থেকে অন্য অবস্থায় ইউআই পরিবর্তন করবেন।

## ঘোষণামূলক ইউআই বনাম আদেশমূলক ইউআই এর তুলনা

আপনি যখন ইউআই ইন্টারঅ্যাকশন ডিজাইন করেন, তখন আপনি সম্ভবত ভাবেন- কিভাবে ইউজার একশনের জন্য ইউআই পরিবর্তিত হবে। উদাহরণ হিসেবে, একটি **ফর্ম** এর কথা ধরুন যা দিয়ে একজন ইউজার উত্তর জমা দিবে:

- আপনি যখন ফর্মে কিছু টাইপ করেন, "জমা দিন" এই বাটনটি সক্রিয় হয়ে যায়।
- আপনি যখন "জমা দিন" বাটনে ক্লিক করেন, তখন ফর্ম এবং বাটন উভয়ই `disable` হয়ে যায় এবং একটি স্পিনার লোডিং প্রদর্শিত হয়।
- যদি আপনার উত্তর সফল হয়, তাহলে ফর্মটি `hidden` হয়ে যায় এবং "ধন্যবাদ" মেসেজ প্রদর্শিত হয়।
- যদি আপনার উত্তর ভুল হয়, তাহলে একটি ত্রুটির মেসেজ প্রদর্শিত হয় এবং ফর্মটি আবার সক্রিয় হয়ে যায়।

**Imperative Programming**-এ, উপরের উদাহরণে আপনি ইন্টারঅ্যাকশন কীভাবে বাস্তবায়ন করেন তার স্টেপ বাই স্টেপ একটি নির্দেশনা। কল্পনা করুন- আপনি একটি গাড়িতে করে কারো সাথে যাচ্ছেন এবং তাদেরকে ধাপে ধাপে নির্দেশনা দিচ্ছেন কোথায় যেতে হবে।

ড্রাইভার (JS) জানে না আপনি কোথায় যেতে চান, তারা শুধু আপনার প্রত্যেক নির্দেশ অনুসরণ করে। (আর যদি আপনি ভুল নির্দেশনা দেন, তাহলে আপনি ভুল জায়গায় পৌঁছে যাবেন!) একে আদেশমূলক বলা হয় কারণ আপনাকে শুরু থেকে শেষ পর্যন্ত প্রতিটি উপাদানকে আপডেট করার জন্য 'আদেশ' করতে হবে, কম্পিউটারকে বলতে হবে কীভাবে ইউআই আপডেট করতে হবে।

**এই উদাহরণে, ফর্মটি React ছাড়াই তৈরি করা হয়েছে। এটি শুধুমাত্র ব্রাউজার DOM ব্যবহার করে:**

```javascript
async function handleFormSubmit(e) {
  e.preventDefault();
  disable(textarea);
  disable(button);
  show(loadingMessage);
  hide(errorMessage);
  try {
    await submitForm(textarea.value);
    show(successMessage);
    hide(form);
  } catch (err) {
    show(errorMessage);
    errorMessage.textContent = err.message;
  } finally {
    hide(loadingMessage);
    enable(textarea);
    enable(button);
  }
}

function handleTextareaChange() {
  if (textarea.value.length === 0) {
    disable(button);
  } else {
    enable(button);
  }
}

function hide(el) {
  el.style.display = "none";
}

function show(el) {
  el.style.display = "";
}

function enable(el) {
  el.disabled = false;
}

function disable(el) {
  el.disabled = true;
}

function submitForm(answer) {
  // Pretend it's hitting the network.
  return new Promise((resolve, reject) => {
    setTimeout(() => {
      if (answer.toLowerCase() === "istanbul") {
        resolve();
      } else {
        reject(new Error("Good guess but a wrong answer. Try again!"));
      }
    }, 1500);
  });
}

let form = document.getElementById("form");
let textarea = document.getElementById("textarea");
let button = document.getElementById("button");
let loadingMessage = document.getElementById("loading");
let errorMessage = document.getElementById("error");
let successMessage = document.getElementById("success");
form.onsubmit = handleFormSubmit;
textarea.oninput = handleTextareaChange;
```

**জটিল সিস্টেমের জন্য সমস্যা:**

"বিচ্ছিন্ন উদাহরণের জন্য আদেশমূলকভাবে UI কে পরিচালনা করা যথেষ্ট ভালো কাজ করে, কিন্তু আরও জটিল সিস্টেমে এটি দিয়ে ম্যানেজ করা অত্যন্ত কঠিন হয়ে পড়ে। এই ধরনের বিভিন্ন ফর্ম পুরো একটি পেজে ম্যানেজ/আপডেট করার কথা কল্পনা করুন। একটি নতুন UI উপাদান বা একটি নতুন ইন্টারঅ্যাকশন যোগ করতে হলে নিশ্চিত হতে হবে যে আপনি কোনো বাগ তৈরি করেননি (উদাহরণস্বরূপ, কিছু দেখাতে বা লুকাতে ভুলে যাওয়া)।"

**React-এর সমাধান:**

## রিঅ্যাক্টে কাজ করার জন্য, আপনি কিভাবে ঘোষণামূলকভাবে চিন্তা করবেন তা আরও ভালোভাবে বুঝতে, নিচের পদক্ষেপগুলি অনুসরণ করুন:

১. **আপনার UI এর বিভিন্ন দৃশ্যমান অবস্থার স্ক্রিনশর্ট নিন:** যেমন একটি ফর্মের বিভিন্ন অবস্থা কি কি হতে পারে তা নির্ধারণ করুন- যেমন একটি ফর্ম খালি থাকা অবস্থা, ফিল আপ শুরু করা অবস্থা, ফিল আপ সাবমিট করা অবস্থা, ফিল আপ সাবমিট শেষে রিকুয়েস্ট সফল বা ব্যর্থ হওয়ার পরের অবস্থা।
২. **কি কি সেই অবস্থা পরিবর্তনগুলি ট্রিগার করে:** প্রতিটি অবস্থা পরিবর্তনের কারণ কী তা চিহ্নিত করুন। যেমন `isTyping`, `isSubmitting`, `isSuccess`, ইত্যাদি ঘটনা।  
৩. **`useState` ব্যবহার করে মেমোরিতে অবস্থাগুলো উল্লেখ করুন:** `useState` হুক ব্যবহার করে আপনার অবস্থার জন্য পরিবর্তনশীল ভ্যারিয়েবল তৈরি করুন। এই পরিবর্তনশীলগুলি ভেরিয়েবলগুলো আপনার ফর্মের ডেটা সংরক্ষণ করবে।  
৪. **অপ্রয়োজনীয় অবস্থার ভেরিয়েবলগুলি সরিয়ে দিন:** আপনার UI এর অবস্থার পরিবর্তনগুলো কেবল প্রয়োজনীয়গুলি রাখুন। অতিরিক্ত স্টেট নিবেন না। অপ্রয়োজনীয়গুলি স্টেটগুলো অপসারণ করুন, কারণ এগুলি আপনার কোডকে আরও জটিল করে তুলবে।

৫. **UI এর অবস্থাগুলো সেট করার জন্য `event handle` ব্যবহার করুন** isTyping এ onChange এ button visible করা, ইত্যাদি যে ঘটনাগুলি ঘটলে আপনার UI এর পরিবর্তনশীল ভেরিয়েবলের মানগুলো আপডেট করতে ইভেন্ট হ্যান্ডলার লাগবে।

এই পদক্ষেপগুলি অনুসরণ করে, আপনি আপনার ফর্মকে একটি ঘোষণামূলক পদ্ধতিতে React দিয়ে কাজ করাতে পারেন।
